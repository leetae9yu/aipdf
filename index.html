<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°•ì˜ ìë£Œ PDF ìƒì„±ê¸°</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <style>
        /* --- ê¸°ë³¸ ìŠ¤íƒ€ì¼ --- */
        body {
            font-family: sans-serif; line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            background-color: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        /* --- Gemini ì¶”ì²œ ì„¹ì…˜ ìŠ¤íƒ€ì¼ --- */
        .recommendation-box {
            background-color: #eaf4ff;
            border: 1px solid #b3d7ff;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .recommendation-box p {
            margin: 0;
            color: #0056b3;
            font-weight: bold;
        }
        .gemini-button {
            background-color: #007bff;
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            text-decoration: none;
            font-size: 0.9em;
            transition: background-color 0.3s ease;
        }
        .gemini-button:hover {
            background-color: #0056b3;
        }
        /* --- ë‚˜ë¨¸ì§€ ìŠ¤íƒ€ì¼ --- */
        h1, h2 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
            margin-top: 0;
        }
        h1 { margin-top: 15px; }
        h2 {
             margin-top: 30px;
        }
        h3 {
            color: #34495e;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        textarea {
            width: 100%;
            min-height: 200px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-family: monospace;
            font-size: 0.9em;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            margin-right: 10px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #2980b9;
        }
        button#savePdfButton {
            background-color: #2ecc71;
        }
        button#savePdfButton:hover {
            background-color: #27ae60;
        }
        button#clearButton {
            background-color: #e67e22;
        }
        button#clearButton:hover {
            background-color: #d35400;
        }
        .button-group {
            margin-top: 15px;
            margin-bottom: 20px;
        }

        /* --- í”„ë¡¬í”„íŠ¸ ì˜ì—­ ìŠ¤íƒ€ì¼ --- */
        .prompt-section {
            background-color: #ecf0f1;
            padding: 20px;
            border-radius: 4px;
            border: 1px solid #bdc3c7;
            margin-top: 30px;
        }
        .prompt-item {
            background-color: #ffffff;
            padding: 15px;
            border: 1px solid #dcdcdc;
            border-radius: 4px;
            margin-bottom: 20px;
            position: relative;
        }
        .prompt-item:last-child {
            margin-bottom: 0;
        }
        .prompt-text {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
            font-size: 0.9em;
            color: #34495e;
            margin-bottom: 10px;
            max-height: 400px;
            overflow-y: auto;
        }
        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #95a5a6;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8em;
            z-index: 1;
        }
         .copy-button:hover {
            background-color: #7f8c8d;
        }

        /* --- ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ ìŠ¤íƒ€ì¼ --- */
        #previewArea {
            border: 1px dashed #ccc;
            padding: 20px;
            margin-top: 20px;
            background-color: #fdfdfd;
        }
        #pdfContentWrapper {
             min-height: 50px;
        }

        /* --- ë¯¸ë¦¬ë³´ê¸° ë‚´ ìš”ì†Œ ìŠ¤íƒ€ì¼ --- */
        #pdfContentWrapper img {
             max-width: 100%;
             height: auto;
        }
        #pdfContentWrapper table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1em;
        }
        #pdfContentWrapper th, #pdfContentWrapper td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
         #pdfContentWrapper th {
            background-color: #f2f2f2;
        }

        /* --- !!! PDF í˜ì´ì§€ ë‚˜ëˆ„ê¸° ì œì–´ CSS ì¶”ê°€ !!! --- */
        @media print {
            h1, h2, h3, h4, h5, h6 {
                page-break-after: avoid;
                page-break-inside: avoid;
            }
            p, blockquote, ul, ol, li {
                page-break-inside: avoid;
            }
            table, figure, img {
                page-break-inside: avoid;
            }
            .page-break-before { page-break-before: always; }
            .page-break-after { page-break-after: always; }
            .avoid-break { page-break-inside: avoid; }
        }
        /* html2pdfê°€ @media print ì™¸ë¶€ ê·œì¹™ë„ ì¸ì‹ ì‹œë„í•˜ë¯€ë¡œ ì¤‘ë³µ ì •ì˜ */
        h1, h2, h3, h4, h5, h6 {
            page-break-after: avoid;
            page-break-inside: avoid;
        }
        p, blockquote, ul, ol, li {
            page-break-inside: avoid;
        }
        table, figure, img {
            page-break-inside: avoid;
        }
        .page-break-before { page-break-before: always; }
        .page-break-after { page-break-after: always; }
        .avoid-break { page-break-inside: avoid; }
        /* --- í˜ì´ì§€ ë‚˜ëˆ„ê¸° CSS ë --- */

    </style>
</head>
<body>
    <div class="container">
        <div class="recommendation-box">
            <p>âœ¨ Gemini 2.5 Pro (experimental) ëª¨ë¸ì„ ê°€ì¥ ì¶”ì²œí•©ë‹ˆë‹¤.</p>
            <a href="https://gemini.google.com/app" target="_blank" class="gemini-button">Gemini ë°”ë¡œê°€ê¸°</a>
        </div>

        <h1>ê°•ì˜ ìë£Œ PDF ìƒì„±ê¸°</h1>
        <p>AI (Gemini ë“±)ë¥¼ ì´ìš©í•˜ì—¬ ìƒì„±í•œ ê°•ì˜ìë£Œ HTML ì½”ë“œë¥¼ ì•„ë˜ì— ë¶™ì—¬ë„£ê³  'PDF ì €ì¥' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>

        <div class="prompt-section">
             <h2>ğŸ“‹ ì¶”ì²œ í”„ë¡¬í”„íŠ¸</h2>
             <div class="prompt-item">
                 <h3>ì¼ë°˜ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ (ìˆ˜ì •í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”)</h3>
                 <button class="copy-button" data-target="generalPromptText">í…œí”Œë¦¿ ë³µì‚¬</button>
                 <pre id="generalPromptText" class="prompt-text">
### Role & Persona

ë‹¹ì‹ ì€ **[ê³¼ëª©]** ë¶„ì•¼ì˜ ìµœê³  ìˆ˜ì¤€ ì „ë¬¸ê°€ì´ì ê°•ì˜ ë‚´ìš© ì‹œê°í™” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.
ì‚¬ìš©ìê°€ ì œê³µí•˜ëŠ” í•™ìŠµ ìë£Œ(ì˜ˆ: ê°•ì˜ ë…¹ì·¨ë¡, êµì¬, ë…¸íŠ¸ í•„ê¸° ë“±)ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•´ë‹¹ ë‚´ìš©ì„ íš¨ê³¼ì ìœ¼ë¡œ ì‹œê°í™”í•˜ì—¬ í•™ìŠµ íš¨ê³¼ë¥¼ ê·¹ëŒ€í™”í•˜ëŠ” ì—­í• ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
### Context & Goal

ì‚¬ìš©ìëŠ” í˜„ì¬ **[ìƒí™© ì˜ˆ: ëŒ€í•™êµ, ì˜¨ë¼ì¸ ê°•ì˜, ìŠ¤í„°ë”” ê·¸ë£¹ ë“±]**ì—ì„œ **[ê³¼ëª©]** ê°•ì˜(ë˜ëŠ” í•™ìŠµ ê³¼ì •)ë¥¼ ì´ìˆ˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì´ ê³¼ì •ì€ **[ê°•ì˜ íŠ¹ì§• ì˜ˆ: íŠ¹ì • êµì¬ ì¤‘ì‹¬, ê°•ì˜ ìë£Œ ë¶€ì¡±, ì‹¤ìŠµ ìœ„ì£¼ ë“±]**ì˜ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ëª©í‘œëŠ” ì œê³µë˜ëŠ” **[ì œê³µ ìë£Œ ì¢…ë¥˜ ì˜ˆ: ê°•ì˜ ë…¹ì·¨ë¡, êµì¬ PDF, ë°œí‘œ ìë£Œ, ë…¸íŠ¸ í•„ê¸°]** ë¥¼ í™œìš©í•˜ì—¬, í•™ìŠµ ë‚´ìš©ì„ ëª…í™•í•˜ê²Œ ì‹œê°í™”í•˜ê³  ì •ë¦¬í•¨ìœ¼ë¡œì¨ **[í•™ìŠµ ëª©í‘œ ì˜ˆ: ì‹œí—˜ ëŒ€ë¹„, ê°œë… ì´í•´ ì¦ì§„, ë°œí‘œ ì¤€ë¹„, ë³µìŠµ íš¨ìœ¨ ì¦ëŒ€]** ë¥¼ ë‹¬ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
### Instructions

1.  **ìë£Œ ê²€í†  ë° í•µì‹¬ íŒŒì•…:** ìš°ì„ ì ìœ¼ë¡œ ì œê³µëœ **[ì œê³µ ìë£Œ ì¢…ë¥˜]** ì „ì²´ë¥¼ ê²€í† í•©ë‹ˆë‹¤.
íŠ¹íˆ **[ì£¼ìš” ìë£Œ ì˜ˆ: êµì¬, ê³µì‹ ê°•ì˜ìë£Œ]** ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ë‚´ìš©ì„ íŒŒì•…í•˜ê³ , **[ë³´ì¡° ìë£Œ ì˜ˆ: ë…¹ì·¨ë¡, ë…¸íŠ¸ í•„ê¸°, ê´€ë ¨ ì•„í‹°í´]** ë¥¼ ì°¸ê³ í•˜ì—¬ í•™ìŠµ ë‚´ìš©ì˜ íë¦„, ê°•ì¡°ì , í•µì‹¬ ê°œë…ë“¤ì„ ì •í™•íˆ íŒŒì•…í•©ë‹ˆë‹¤.
2.  **ì‹œê°í™” êµ¬ì„±:** íŒŒì•…ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ í•™ìŠµ íš¨ê³¼ë¥¼ ë†’ì¼ ìˆ˜ ìˆë„ë¡ ì‹œê°í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.
ê°•ì˜ ë˜ëŠ” í•™ìŠµ ìë£Œì—ì„œ ì¤‘ìš”í•˜ê²Œ ë‹¤ë£¨ì–´ì§„ ë‚´ìš©ì„ í•µì‹¬ ì¤„ê¸°ë¡œ ì‚¼ê³ , **[ë³´ì¶© ìë£Œ ì˜ˆ: êµì¬ ìƒì„¸ ë‚´ìš©, ê´€ë ¨ ì˜ˆì‹œ, ì°¸ê³  ë…¼ë¬¸ ìš”ì•½]** ë“±ì„ í™œìš©í•˜ì—¬ ì„¤ëª…ì„ í’ë¶€í•˜ê²Œ ë³´ì¶©í•©ë‹ˆë‹¤.
ìˆœì„œë„, í‘œ, ëª©ë¡, ê°•ì¡°(ë³¼ë“œ, ë°‘ì¤„ ë“±) ë“±ì„ ì ì ˆíˆ í™œìš©í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤.
3.  **ê²°ê³¼ë¬¼ ìˆ˜ì¤€ ë° ë²”ìœ„:** ì‹œê°í™”ëœ ìë£ŒëŠ” ê·¸ ìì²´ë§Œìœ¼ë¡œë„ ì‚¬ìš©ìê°€ ì„¤ì •í•œ **[í•™ìŠµ ëª©í‘œ]** ë¥¼ ë‹¬ì„±í•˜ëŠ” ë° ì¶©ë¶„í•´ì•¼ í•©ë‹ˆë‹¤.
í•™ìŠµ ë²”ìœ„ ë‚´ì˜ ì£¼ìš” ë‚´ìš©ì„ ëª…í™•í•˜ê³  ì²´ê³„ì ìœ¼ë¡œ í¬ê´„í•´ì•¼ í•©ë‹ˆë‹¤.

4.  **ì¶œë ¥ í˜•ì‹:** ìµœì¢… ê²°ê³¼ë¬¼ì€ **í•˜ë‚˜ì˜ HTML ì½”ë“œ**ë¡œ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•˜ì—¬ ì œê³µí•©ë‹ˆë‹¤.
**[ìŠ¤íƒ€ì¼ë§ ìš”êµ¬ì‚¬í•­ ì˜ˆ: ë³„ë„ì˜ CSS ì—†ì´ ìˆœìˆ˜ HTML êµ¬ì¡°ë§Œ / ê¸°ë³¸ì ì¸ CSS ìŠ¤íƒ€ì¼ë§ í¬í•¨ / íŠ¹ì • ìŠ¤íƒ€ì¼ ê°€ì´ë“œ ì¤€ìˆ˜]** ì— ë§ì¶° ì‘ì„±í•´ì£¼ì„¸ìš”.
**PDF ë³€í™˜ ì‹œ í˜ì´ì§€ ë‚˜ëˆ„ê¸°ê°€ ìì—°ìŠ¤ëŸ½ë„ë¡ CSSì˜ page-break ì†ì„±(ì˜ˆ: page-break-inside: avoid;)ì„ ì£¼ìš” ìš”ì†Œ(ì œëª©, ë¬¸ë‹¨, í‘œ, ì´ë¯¸ì§€ ë“±)ì— ì ìš©í•´ì£¼ì„¸ìš”.**
### ìš”ì²­

ì, ì´ì œ ì‚¬ìš©ìê°€ ì œê³µí•  **[ì œê³µ ìë£Œ ì¢…ë¥˜]** ë¥¼ ë°”íƒ•ìœ¼ë¡œ ìœ„ ìš”êµ¬ì‚¬í•­ì— ë§ì¶° ë‚´ìš© ì‹œê°í™”ë¥¼ ì§„í–‰í•´ ì£¼ì‹­ì‹œì˜¤.
</pre>
             </div>

             <div class="prompt-item">
                 <h3>í—Œë²•í•™ í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ</h3>
                 <button class="copy-button" data-target="specificPromptText">ì˜ˆì‹œ ë³µì‚¬</button>
                 <pre id="specificPromptText" class="prompt-text">
### Role & Persona

ë‹¹ì‹ ì€ ì„¸ê³„ ìµœê³  ìˆ˜ì¤€ì˜ í—Œë²•í•™ êµìˆ˜ì´ì ê°•ì˜ ì‹œê°í™” ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ê°•ì˜ ì†ê¸°ë³¸, êµì¬, ê°•ì˜ ìë£Œ ë“±ì„ ì œê³µ ë°›ì•„ ì‚¬ìš©ìì—ê²Œ í•´ë‹¹ ê°•ì˜ë¥¼ ì‹œê°í™”í•˜ì—¬ ì œê³µí•˜ì„¸ìš”.
### Context & Goal

í˜„ì¬ ì‚¬ìš©ìëŠ” ëŒ€í•™êµì—ì„œ 'í—Œë²•í•™' ê°•ì˜ë¥¼ ìˆ˜ê°•í•˜ê³  ìˆìŠµë‹ˆë‹¤.
í•´ë‹¹ ê°•ì˜ëŠ” êµì¬ì˜ ë‚´ìš©ì„ ì¤‘ì‹¬ìœ¼ë¡œ, êµìˆ˜ë‹˜ì´ ê°•ì—°í•˜ë“¯ ì§„í–‰í•˜ì‹œëŠ” ìˆ˜ì—…ì´ë¼ íŠ¹ë³„í•œ ê°•ì˜ ìë£Œë‚˜ ì •ë¦¬ë³¸ì´ ì¡´ì¬í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ ê°•ì˜ ì†ê¸°ë³¸ê³¼ êµì¬ PDFë¥¼ ê°€ì§€ê³  í•´ë‹¹ ìˆ˜ì—…ì„ ì‹œê°í™”í•˜ì—¬ í•™ìŠµì— ìš©ì´í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ìµœì¢… ëª©ì ì…ë‹ˆë‹¤.
### Instructions

1. ìš°ì„ ì ìœ¼ë¡œ êµì¬ì˜ ë‚´ìš©ì„ ê²€í† í•©ë‹ˆë‹¤.
2. ê²€í† í•œ êµì¬ì˜ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ê°•ì˜ ì†ê¸°ë³¸ì„ ì‚´í´ ë³´ë©´ì„œ ìˆ˜ì—…ì˜ ì§„í–‰ ì–‘ìƒì„ íŒŒì•…í•©ë‹ˆë‹¤.
3. ì´ì œ ì‹œê°í™”ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤. ì´ë•Œ, ê°•ì˜ì—ì„œ ì–¸ê¸‰í•œ ë‚´ìš©ì„ í•µì‹¬ ì¤„ê¸°ë¡œ ì‚¼ê³  êµì¬ì˜ ë‚´ìš©ì„ í†µí•´ ì„¤ëª…ì„ ë³´ì¶©í•©ë‹ˆë‹¤.
4. ì‹œê°í™”ëœ ìë£Œë§Œ ë³´ë”ë¼ë„ ì´ˆê³ ë‚œë„ ë…¼ìˆ í˜• ì‹œí—˜ì— ëŒ€ë¹„í•  ìˆ˜ ìˆì–´ì•¼ í•˜ë©°, ê°•ì˜ì—ì„œ ì§„í–‰ëœ ëª¨ë“  ë‚´ìš©ì„ í¬ê´„í•´ì•¼ í•©ë‹ˆë‹¤.
5. ìµœì¢… ê²°ê³¼ë¬¼ì€ í•˜ë‚˜ì˜ HTML ì½”ë“œë¡œ ì œì‹œí•©ë‹ˆë‹¤. **íŠ¹íˆ, ìƒì„±ëœ HTMLì„ PDFë¡œ ë³€í™˜í–ˆì„ ë•Œ ë‚´ìš©ì´ ì–´ìƒ‰í•˜ê²Œ ì˜ë¦¬ì§€ ì•Šë„ë¡ ì¤‘ìš”í•œ ìš”ì†Œ(ì œëª©, ë¬¸ë‹¨, í‘œ, ì´ë¯¸ì§€ ë“±)ì— CSS `page-break-inside: avoid;` ìŠ¤íƒ€ì¼ì„ ì ìš©í•´ì£¼ì„¸ìš”.**
ì, ë‹¤ìŒ ì±„íŒ…ì—ì„œ ì‚¬ìš©ìì—ê²Œ ê°•ì˜ ì†ê¸°ë³¸ê³¼ êµì¬ PDF ì œê³µ ë°›ì•„ ì‹œê°í™”ë¥¼ ì§„í–‰í•´ì£¼ì„¸ìš”.
</pre>
             </div>
        </div>

        <h2>ğŸ“ HTML ì½”ë“œ ì…ë ¥ì°½</h2>
        <textarea id="htmlInput" placeholder="ì—¬ê¸°ì— AIê°€ ìƒì„±í•œ HTML ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”..."></textarea>

        <div class="button-group">
            <button id="previewButton">ğŸ”„ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸</button>
            <button id="savePdfButton">ğŸ“„ PDF ì €ì¥</button>
            <button id="clearButton">ğŸ—‘ï¸ ì…ë ¥ ì´ˆê¸°í™”</button>
        </div>

        <h2>ğŸ“„ ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° / PDF ë³€í™˜ ì˜ì—­</h2>
        <div id="previewArea">
             <div id="pdfContentWrapper">
                 <p>HTML ì½”ë“œë¥¼ ì…ë ¥í•˜ê³  'ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì—¬ê¸°ì— ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
             </div>
        </div>
    </div>

    <script>
        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const htmlInputElement = document.getElementById('htmlInput');
        const previewButton = document.getElementById('previewButton');
        const savePdfButton = document.getElementById('savePdfButton');
        const previewArea = document.getElementById('previewArea');
        const pdfContentWrapper = document.getElementById('pdfContentWrapper');
        const copyButtons = document.querySelectorAll('.copy-button');
        const clearButton = document.getElementById('clearButton');
        const initialPreviewText = '<p>HTML ì½”ë“œë¥¼ ì…ë ¥í•˜ê³  \'ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸\' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì—¬ê¸°ì— ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.</p>';

        // 1. í”„ë¡¬í”„íŠ¸ ë³µì‚¬ ê¸°ëŠ¥
        copyButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.getAttribute('data-target');
                const textElement = document.getElementById(targetId);
                if (textElement) {
                    const textToCopy = textElement.innerText;
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        alert('í”„ë¡¬í”„íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    }).catch(err => {
                        console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                        alert('í”„ë¡¬í”„íŠ¸ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                    });
                } else {
                    console.error('ë³µì‚¬í•  í…ìŠ¤íŠ¸ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', targetId);
                }
            });
        });

        // 2. ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ ê¸°ëŠ¥
        previewButton.addEventListener('click', () => {
            const htmlContent = htmlInputElement.value;
            pdfContentWrapper.innerHTML = htmlContent;
        });

        // 3. PDF ì €ì¥ ê¸°ëŠ¥ (í˜ì´ì§€ ë‚˜ëˆ„ê¸° ì˜µì…˜ ì¶”ê°€)
        savePdfButton.addEventListener('click', () => {
            const element = pdfContentWrapper;
            const htmlContent = htmlInputElement.value;
            element.innerHTML = htmlContent; // ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸ ì„ í–‰

            // ë³€í™˜í•  ë‚´ìš© ìœ ë¬´ í™•ì¸ ê°•í™”
            if (!element.innerText.trim() && !element.querySelector('img') && !element.querySelector('table')) {
                alert('PDFë¡œ ë³€í™˜í•  ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤. HTML ì½”ë“œë¥¼ ì…ë ¥í•˜ê±°ë‚˜ í™•ì¸í•´ì£¼ì„¸ìš”.');
                return;
            }

            // --- !!! html2pdf ì˜µì…˜ ìˆ˜ì • !!! ---
            const opt = {
              margin:       [10, 10, 10, 10], // ì—¬ë°± mm [ìƒ, ì¢Œ, í•˜, ìš°]
              filename:     'lecture_material.pdf', // ì €ì¥ë  PDF íŒŒì¼ ì´ë¦„
              image:        { type: 'jpeg', quality: 0.98 }, // ì´ë¯¸ì§€ ì„¤ì •
              html2canvas:  {
                                scale: 2, // í•´ìƒë„ ë°°ìœ¨
                                useCORS: true, // ì™¸ë¶€ ì´ë¯¸ì§€ ë¡œë“œ í—ˆìš©
                                scrollY: 0 // ì „ì²´ í˜ì´ì§€ ìº¡ì²˜ ìœ„í•´ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ê³ ì •
                            },
              jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' }, // PDF ë¬¸ì„œ ì„¤ì •
              // --- í˜ì´ì§€ ë‚˜ëˆ„ê¸° ì˜µì…˜ ì¶”ê°€ ---
              pagebreak:    {
                                mode: ['css', 'avoid-all'], // CSS ê·œì¹™ + ìš”ì†Œ ë‚´ë¶€ ì˜ë¦¼ ë°©ì§€ ì‹œë„
                                before: '.page-break-before', // ì´ í´ë˜ìŠ¤ ì•ì—ì„œ ê°•ì œ í˜ì´ì§€ ë‚˜ëˆ„ê¸°
                                after: '.page-break-after',   // ì´ í´ë˜ìŠ¤ ë’¤ì—ì„œ ê°•ì œ í˜ì´ì§€ ë‚˜ëˆ„ê¸°
                                avoid: 'h1, h2, h3, h4, h5, h6, p, blockquote, ul, ol, li, table, figure, img, .avoid-break' // ì´ ìš”ì†Œë“¤ ë‚´ë¶€ì—ì„œëŠ” í˜ì´ì§€ ë‚˜ëˆ„ê¸° ë°©ì§€ ì‹œë„
                            }
              // --- ì˜µì…˜ ì¶”ê°€ ë ---
            };
            // --- ì˜µì…˜ ìˆ˜ì • ë ---


            // pdf ìƒì„± (ë Œë”ë§ ì‹œê°„ ê³ ë ¤í•˜ì—¬ ì•½ê°„ì˜ ì§€ì—° ì¶”ê°€)
            setTimeout(() => {
                html2pdf().set(opt).from(element).save().then(() => {
                    // console.log("PDF ì €ì¥ ì„±ê³µ"); // ì„±ê³µ ë¡œê·¸ (í•„ìš”ì‹œ ì£¼ì„ í•´ì œ)
                }).catch(err => {
                    console.error("PDF ìƒì„± ì˜¤ë¥˜:", err);
                    alert("PDF ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‚´ìš©ì´ ë„ˆë¬´ ë³µì¡í•˜ê±°ë‚˜ ì§€ì›ë˜ì§€ ì•ŠëŠ” í˜•ì‹ì´ í¬í•¨ë˜ì—ˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
                });
            }, 100); // 0.1ì´ˆ ì§€ì—°
        });

        // 4. ì…ë ¥ ì´ˆê¸°í™” ê¸°ëŠ¥
        clearButton.addEventListener('click', () => {
            htmlInputElement.value = '';
            pdfContentWrapper.innerHTML = initialPreviewText;
            alert('HTML ì…ë ¥ ë‚´ìš©ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
        });

    </script>
</body>
</html>
